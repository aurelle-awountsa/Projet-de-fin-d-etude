<!doctype html>
<html lang="en">
<head>
    <meta charSet="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <title>Integration Test Report</title>
    <link rel="stylesheet" href="assets\app.css"/>
</head>
<body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:19,&quot;tests&quot;:52,&quot;passes&quot;:52,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-05-18T20:10:21.106Z&quot;,&quot;end&quot;:&quot;2020-05-18T20:10:27.954Z&quot;,&quot;duration&quot;:6848,&quot;testsRegistered&quot;:52,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;9061101d-6079-4479-bea4-c2d23120a4b6&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;be024cf1-0729-4c28-8594-dea510d0c8c6&quot;,&quot;title&quot;:&quot;Questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//Before each test we empty the database\n       Question.deleteMany({}, (err) =&gt; {\n           done();\n       });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8705fd50-4f73-4966-9725-540ddc2b70f3&quot;,&quot;parentUUID&quot;:&quot;be024cf1-0729-4c28-8594-dea510d0c8c6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;859aa184-cf16-4339-b0a5-55710460577f&quot;,&quot;title&quot;:&quot;/GET questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET no question since there is none in the database&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should GET no question since there is none in the database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .get(`/server/api/questions`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(204);\n                            res.body.should.be.a(&#x27;object&#x27;);\n                            Object.keys(res.body).length.should.be.eql(0);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8f92a34-bdfd-413a-9c8d-8867f49b4f2e&quot;,&quot;parentUUID&quot;:&quot;859aa184-cf16-4339-b0a5-55710460577f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should get all questions&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should get all questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = new Question({\n                \&quot;type\&quot;: \&quot;boolean\&quot;, \&quot;question\&quot;: \&quot;what&#x27;s 2000 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            });\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end(() =&gt; {\n                            chai.request(server)\n                                .get(&#x27;/server/api/questions&#x27;)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res2) =&gt; {\n                                    res2.should.have.status(200);\n                                    res2.body.should.be.a(&#x27;array&#x27;);\n                                    res2.body.length.should.be.eql(1);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b544bc27-ad8d-440c-a8a8-81d5ebd3d509&quot;,&quot;parentUUID&quot;:&quot;859aa184-cf16-4339-b0a5-55710460577f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8f92a34-bdfd-413a-9c8d-8867f49b4f2e&quot;,&quot;b544bc27-ad8d-440c-a8a8-81d5ebd3d509&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:282,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;90f87acd-8972-43dc-a3c4-0e342af3d6a4&quot;,&quot;title&quot;:&quot;/POST questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT POST a question without a type field&quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should NOT POST a question without a type field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = {\n                \&quot;question\&quot;: \&quot;what&#x27;s 2000 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(405);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;).eql(&#x27;Invalid input&#x27;);\n                            res.body.error.should.have\n                                .property(&#x27;name&#x27;).eql(&#x27;ValidationError&#x27;);\n                            res.body.error.should.have.property(&#x27;errors&#x27;);\n                            res.body.should.be.a(&#x27;object&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1543dd7a-4f3f-4664-923d-80eff29db699&quot;,&quot;parentUUID&quot;:&quot;90f87acd-8972-43dc-a3c4-0e342af3d6a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should POST a question &quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should POST a question &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = new Question({\n                \&quot;type\&quot;: \&quot;boolean\&quot;, \&quot;question\&quot;: \&quot;what&#x27;s 2000 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            });\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(201);\n                            res.body.should.be.a(&#x27;object&#x27;);\n                            res.body.createdQuestion.should.be.a(&#x27;object&#x27;);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;Created question successfully !&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2e61d2b-10fd-4fa6-8164-c066dc1f68e6&quot;,&quot;parentUUID&quot;:&quot;90f87acd-8972-43dc-a3c4-0e342af3d6a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1543dd7a-4f3f-4664-923d-80eff29db699&quot;,&quot;e2e61d2b-10fd-4fa6-8164-c066dc1f68e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:276,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;a8e0ce85-8aa5-49c2-99c4-967ce1b150fb&quot;,&quot;title&quot;:&quot;/GET/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should GET a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = new Question({\n                \&quot;type\&quot;: \&quot;boolean\&quot;,\n                \&quot;question\&quot;: \&quot;what&#x27;s 2000 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            });\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const questionId = res2.body.createdQuestion.id;\n                            chai.request(server)\n                                .get(`/server/api/questions/${questionId}`)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(200);\n                                    res3.body[0].should.have\n                                        .property(&#x27;question&#x27;)\n                                        .eql(\&quot;what&#x27;s 2000 - 150 ?\&quot;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;217d5d06-e23d-49ef-b148-9fc0e7e6b98f&quot;,&quot;parentUUID&quot;:&quot;a8e0ce85-8aa5-49c2-99c4-967ce1b150fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/questions/92640se51167daq4c81f4312&#x27;)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b933b959-9686-4443-a221-7cdc7d91beed&quot;,&quot;parentUUID&quot;:&quot;a8e0ce85-8aa5-49c2-99c4-967ce1b150fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/questions/1f468dbf5082002118fc8821&#x27;)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;No valid entry found for provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;396f6c78-84f3-4ff4-b14a-d0eca0f5ad9e&quot;,&quot;parentUUID&quot;:&quot;a8e0ce85-8aa5-49c2-99c4-967ce1b150fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;217d5d06-e23d-49ef-b148-9fc0e7e6b98f&quot;,&quot;b933b959-9686-4443-a221-7cdc7d91beed&quot;,&quot;396f6c78-84f3-4ff4-b14a-d0eca0f5ad9e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:326,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;c152390a-4bc9-468b-9b41-9396364ea980&quot;,&quot;title&quot;:&quot;/PATCH/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT PATCH a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = {\n                \&quot;type\&quot;: \&quot;boolean\&quot;,\n                \&quot;question\&quot;: \&quot;what&#x27;s 2000 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(&#x27;/server/api/questions/5e97314f7cb39f58e4e21ed6&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.be.a(&#x27;object&#x27;);\n                            res2.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;No valid entry found for provided ID&#x27;);\n                        });\n                });\n            done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eced4c80-fbde-466b-acd5-7d38e9584e77&quot;,&quot;parentUUID&quot;:&quot;c152390a-4bc9-468b-9b41-9396364ea980&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should PATCH a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should PATCH a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = new Question({\n                \&quot;type\&quot;: \&quot;multiple\&quot;,\n                \&quot;question\&quot;: \&quot;what&#x27;s 22 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            });\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const questionId = res2.body.createdQuestion.id;\n                            question.type = \&quot;boolean\&quot;;\n                            delete Object.values(question)[3]._id;\n                            delete Object.values(question)[3].__v;\n                            chai.request(server)\n                                .patch(`/server/api/questions/${questionId}`)\n                                .send(question)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(200);\n                                    res3.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Question updated successfully !&#x27;);\n                                    res3.body.should.have.property(&#x27;modifiedDocs&#x27;).eql(1);\n                                });\n                        });\n                });\n            done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e4601ac-bb38-4b9b-8a0e-733b1bee7e6f&quot;,&quot;parentUUID&quot;:&quot;c152390a-4bc9-468b-9b41-9396364ea980&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .patch(&#x27;/server/api/questions/92640se51167daq4c81f4312&#x27;)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f99c2169-6748-4aa6-ac88-fa40bedbb47a&quot;,&quot;parentUUID&quot;:&quot;c152390a-4bc9-468b-9b41-9396364ea980&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eced4c80-fbde-466b-acd5-7d38e9584e77&quot;,&quot;5e4601ac-bb38-4b9b-8a0e-733b1bee7e6f&quot;,&quot;f99c2169-6748-4aa6-ac88-fa40bedbb47a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:110,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;32691407-ac0c-419a-8a02-130191e1c018&quot;,&quot;title&quot;:&quot;/DELETE/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should DELETE a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const question = new Question({\n                \&quot;type\&quot;: \&quot;multiple\&quot;,\n                \&quot;question\&quot;: \&quot;what&#x27;s 22 - 150 ?\&quot;,\n                \&quot;answers\&quot;: [{\&quot;option\&quot;: \&quot;true\&quot;, \&quot;isCorrect\&quot;: true},\n                    {\&quot;option\&quot;: \&quot;false\&quot;, \&quot;isCorrect\&quot;: false}\n                ]\n            });\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/questions&#x27;)\n                        .send(question)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const questionId = res2.body.createdQuestion.id;\n                            chai.request(server)\n                                .delete(`/server/api/questions/${questionId}`)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(200);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc3603a4-8543-4777-8af4-6eef39b22537&quot;,&quot;parentUUID&quot;:&quot;32691407-ac0c-419a-8a02-130191e1c018&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .delete(&#x27;/server/api/questions/1c7414e51167af71f81f4313&#x27;)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No valid entry found for provided ID&#x27;);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca28b36b-1e2c-44d6-be74-b3f8a17a1d34&quot;,&quot;parentUUID&quot;:&quot;32691407-ac0c-419a-8a02-130191e1c018&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dc3603a4-8543-4777-8af4-6eef39b22537&quot;,&quot;ca28b36b-1e2c-44d6-be74-b3f8a17a1d34&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:241,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;faa1cdb8-c804-4547-9145-847893b2de86&quot;,&quot;title&quot;:&quot;Reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;96d95069-2099-40ed-9cb3-d41de50d174b&quot;,&quot;title&quot;:&quot;/GET reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all reviews&quot;,&quot;fullTitle&quot;:&quot;Reviews /GET reviews it should get all reviews&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(server)\n                .get(&#x27;/server/api/reviews/all&#x27;)\n                .end((err, res) =&gt; {\n                    res.should.have.status(200);\n                    res.body.should.be.an(&#x27;array&#x27;);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c60081c3-0755-421c-a6bf-392771b13059&quot;,&quot;parentUUID&quot;:&quot;96d95069-2099-40ed-9cb3-d41de50d174b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c60081c3-0755-421c-a6bf-392771b13059&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:33,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;48a73222-93f5-466a-8bc1-77ee7adb6950&quot;,&quot;title&quot;:&quot;/POST review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a review&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should create a review&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;3\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    const userId = res1.body.user.userId;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(201);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;Review created successfully !&#x27;);\n                            res2.body.review.should.be.a(&#x27;object&#x27;);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b34e8d9a-68db-4dca-80a5-5c48553004c1&quot;,&quot;parentUUID&quot;:&quot;48a73222-93f5-466a-8bc1-77ee7adb6950&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;3\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    const userId = res1.body.user.userId;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24346e4b-daf3-4c0e-8002-0e86bbbe6d77&quot;,&quot;parentUUID&quot;:&quot;48a73222-93f5-466a-8bc1-77ee7adb6950&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a wrong user id&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a wrong user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;3\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/user/1f468dbf5082002118fc8821/reviews&#x27;)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No user found with the provided ID&#x27;);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfd32242-adbd-4270-bd6c-89df40757de9&quot;,&quot;parentUUID&quot;:&quot;48a73222-93f5-466a-8bc1-77ee7adb6950&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b34e8d9a-68db-4dca-80a5-5c48553004c1&quot;,&quot;24346e4b-daf3-4c0e-8002-0e86bbbe6d77&quot;,&quot;dfd32242-adbd-4270-bd6c-89df40757de9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:310,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;title&quot;:&quot;/PATCH:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a review with the given email&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should PATCH a review with the given email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;9\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is mocha\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    const userId = res1.body.user.userId;\n                    const userEmail = res1.body.user.userEmail;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const reviewId = res2.body.review._id;\n                            review.rating = \&quot;10\&quot;;\n                            chai.request(server)\n                                .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                                .send(review)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(200);\n                                    res3.body.should.have.property(&#x27;message&#x27;)\n                                        .eql(&#x27;Review updated successfully !&#x27;);\n                                    res2.body.review.should.be.a(&#x27;object&#x27;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a77b538-278f-4dc1-a1b8-fcb7f0c30048&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user is non-existent&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user is non-existent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;9\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is mocha\&quot;\n            };\n            const userEmail = \&quot;@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No user was found with provided Email&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7e263ab-ce31-4b6f-b7c0-d2e933df0703&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;9\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is mocha\&quot;\n            };\n            const userEmail = \&quot;dan30@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No was review found with provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b26afe6-d471-4c05-9f5f-94796860960f&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;3\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n            };\n            const userEmail = \&quot;dan30@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .send(review)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfc06e45-cab3-4664-bace-adae3696c1b3&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;3\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n            };\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/login&#x27;)\n                        .send({\n                            \&quot;pseudo\&quot;: user,\n                            \&quot;password\&quot;: \&quot;toto\&quot;\n                        })\n                        .end((err, res1) =&gt; {\n                            chai.request(server)\n                                .patch(`/server/api/user/${user1.email}/reviews/${reviewId}`)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .send(review)\n                                .end((err, res2) =&gt; {\n                                    res2.should.have.status(404);\n                                    res2.body.should.have.property(&#x27;message&#x27;)\n                                        .eql(&#x27;No Review to update&#x27;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c49f7dcc-062f-4d8c-af80-7e4b439b7b7a&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review if some request body&#x27;s field(s) are not allowed&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review if some request body&#x27;s field(s) are not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:210,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;9\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is mocha\&quot;,\n                \&quot;reviewComment\&quot;: \&quot;This is mocha v2\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    const userId = res1.body.user.userId;\n                    const userEmail = res1.body.user.userEmail;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const reviewId = res2.body.review._id;\n                            review.rating = \&quot;10\&quot;;\n                            chai.request(server)\n                                .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                                .send(review)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(405);\n                                    res3.body.should.have.property(&#x27;message&#x27;)\n                                        .eql(&#x27;Some fields are NOT allowed !&#x27;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;674dd385-e157-4306-b5a2-47e73d5964d7&quot;,&quot;parentUUID&quot;:&quot;b29d4e48-970e-42f2-b39d-cbc4725684d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1a77b538-278f-4dc1-a1b8-fcb7f0c30048&quot;,&quot;c7e263ab-ce31-4b6f-b7c0-d2e933df0703&quot;,&quot;4b26afe6-d471-4c05-9f5f-94796860960f&quot;,&quot;dfc06e45-cab3-4664-bace-adae3696c1b3&quot;,&quot;c49f7dcc-062f-4d8c-af80-7e4b439b7b7a&quot;,&quot;674dd385-e157-4306-b5a2-47e73d5964d7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:790,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;title&quot;:&quot;/DELETE:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should DELETE a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const review = {\n                \&quot;rating\&quot;: \&quot;9\&quot;,\n                \&quot;reviewText\&quot;: \&quot;This is mocha\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    const userId = res1.body.user.userId;\n                    const userEmail = res1.body.user.userEmail;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            const reviewId = res2.body.review._id;\n                            chai.request(server)\n                                .delete(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                                .send(review)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res3) =&gt; {\n                                    res3.should.have.status(200);\n                                    res3.body.should.have.property(&#x27;message&#x27;)\n                                        .eql(&#x27;Review deleted successfully !&#x27;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cb057d4-c27c-44af-ad00-70ec59a7833c&quot;,&quot;parentUUID&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user is non-existent&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user is non-existent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const userEmail = \&quot;@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No user was found with provided Email&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c73fdcdf-ce06-4a98-8c74-d244721aecb5&quot;,&quot;parentUUID&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const userEmail = \&quot;dan30@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .delete(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property(&#x27;message&#x27;)\n                                .eql(&#x27;No was review found with provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44c924a2-4a1a-43dc-a2c2-cf5c9f04364d&quot;,&quot;parentUUID&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            const userEmail = \&quot;dan30@gmail.com\&quot;;\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .delete(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7faf5be1-213e-463f-80ce-500bc2748a75&quot;,&quot;parentUUID&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            const reviewId = \&quot;1f468dbf5182002118fc8821\&quot;;\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/login&#x27;)\n                        .send({\n                            \&quot;pseudo\&quot;: user,\n                            \&quot;password\&quot;: \&quot;toto\&quot;\n                        })\n                        .end((err, res1) =&gt; {\n                            chai.request(server)\n                                .delete(`/server/api/user/${user1.email}/reviews/${reviewId}`)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res2) =&gt; {\n                                    res2.should.have.status(404);\n                                    res2.body.should.have.property(&#x27;message&#x27;)\n                                        .eql(&#x27;No Review to delete&#x27;);\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c155c1db-a320-4197-b3bb-63dfc34172bb&quot;,&quot;parentUUID&quot;:&quot;33a51888-0f97-4cd0-a0bd-9b22edfd0fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3cb057d4-c27c-44af-ad00-70ec59a7833c&quot;,&quot;c73fdcdf-ce06-4a98-8c74-d244721aecb5&quot;,&quot;44c924a2-4a1a-43dc-a2c2-cf5c9f04364d&quot;,&quot;7faf5be1-213e-463f-80ce-500bc2748a75&quot;,&quot;c155c1db-a320-4197-b3bb-63dfc34172bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:576,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;960921fb-22b1-4931-8c5a-553fc65428b5&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;921d0535-2cfc-40d7-ba85-03918583c274&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(200);\n                    res.body.should.have\n                        .property(&#x27;message&#x27;)\n                        .eql(&#x27;Auth successful&#x27;);\n                    res.body.should.have\n                        .property(&#x27;token&#x27;);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac198733-b7b2-44e6-a49d-656327c2a724&quot;,&quot;parentUUID&quot;:&quot;921d0535-2cfc-40d7-ba85-03918583c274&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: \&quot;***************\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(401);\n                    res.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Auth failed&#x27;);\n                    res.body.should.have.property(&#x27;success&#x27;).eql(false);\n                });\n            done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad378e06-7cdb-4e2e-ad87-591102625058&quot;,&quot;parentUUID&quot;:&quot;921d0535-2cfc-40d7-ba85-03918583c274&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user if some required field(s) are missing&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user if some required field(s) are missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: \&quot;admin\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(400);\n                    res.body.should.have\n                        .property(&#x27;message&#x27;)\n                        .eql(&#x27;All fields required&#x27;);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d99394e4-f2e1-473c-b6a9-78ae325ad28e&quot;,&quot;parentUUID&quot;:&quot;921d0535-2cfc-40d7-ba85-03918583c274&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac198733-b7b2-44e6-a49d-656327c2a724&quot;,&quot;ad378e06-7cdb-4e2e-ad87-591102625058&quot;,&quot;d99394e4-f2e1-473c-b6a9-78ae325ad28e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:195,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;acd61027-b66b-4876-9f66-81947f164de1&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;username\&quot;: \&quot;dan330\&quot;,\n                \&quot;email\&quot;: \&quot;dan330@gmail.com\&quot;,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(201);\n                    res.body.should.have\n                        .property(&#x27;message&#x27;)\n                        .eql(&#x27;User created successfully&#x27;);\n                    res.body.should.have\n                        .property(&#x27;user&#x27;);\n                    User.deleteOne({username: \&quot;dan330\&quot;})\n                        .exec().then().catch();\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a552e506-aab2-4285-b6b0-14e4c540f268&quot;,&quot;parentUUID&quot;:&quot;acd61027-b66b-4876-9f66-81947f164de1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if the username&#x27;s length is (&gt;= 9 &amp;&amp; &lt;= 4)&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if the username&#x27;s length is (&gt;= 9 &amp;&amp; &lt;= 4)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;username\&quot;: \&quot;da\&quot;,\n                \&quot;email\&quot;: \&quot;dan330@gmail.com\&quot;,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(400);\n                    res.body.should.have.property(&#x27;message&#x27;)\n                        .eql(\&quot;Username&#x27;s min length is 4 and max 9 !\&quot;);\n                    res.body.should.have.property(&#x27;success&#x27;)\n                        .eql(false);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45df6178-5d26-44f3-b2db-6dfd1b7d1879&quot;,&quot;parentUUID&quot;:&quot;acd61027-b66b-4876-9f66-81947f164de1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if some required field(s) are missing&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if some required field(s) are missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;username\&quot;: \&quot;dan330\&quot;,\n                \&quot;email\&quot;: \&quot;dan330@gmail.com\&quot;,\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(400);\n                    res.body.should.have\n                        .property(&#x27;message&#x27;)\n                        .eql(&#x27;All fields required&#x27;);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b84074b-6552-4844-a133-2659b6ff4421&quot;,&quot;parentUUID&quot;:&quot;acd61027-b66b-4876-9f66-81947f164de1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;username\&quot;: \&quot;admin\&quot;,\n                \&quot;email\&quot;: \&quot;admin10@gmail.com\&quot;,\n                \&quot;password\&quot;: \&quot;***********************\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    res.should.have.status(409);\n                    res.body.should.have\n                        .property(&#x27;success&#x27;)\n                        .eql(false);\n                    res.body.should.have\n                        .property(&#x27;message&#x27;)\n                        .eql(&#x27;Mail or Username already exists !&#x27;);\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3f1a038-3ee2-4758-93dc-26dcd0f14545&quot;,&quot;parentUUID&quot;:&quot;acd61027-b66b-4876-9f66-81947f164de1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a552e506-aab2-4285-b6b0-14e4c540f268&quot;,&quot;45df6178-5d26-44f3-b2db-6dfd1b7d1879&quot;,&quot;5b84074b-6552-4844-a133-2659b6ff4421&quot;,&quot;f3f1a038-3ee2-4758-93dc-26dcd0f14545&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:114,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;6c8923a1-8410-4e24-ae21-762787e2652c&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/users/profiles&#x27;)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(200);\n                            res.body.should.be.an(&#x27;array&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c65ac41a-2bee-4ce1-8de2-345df02061a7&quot;,&quot;parentUUID&quot;:&quot;6c8923a1-8410-4e24-ae21-762787e2652c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/users/profiles&#x27;)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e73e748c-7fe0-45bf-aa35-af21376ddaca&quot;,&quot;parentUUID&quot;:&quot;6c8923a1-8410-4e24-ae21-762787e2652c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all users if the request is sent by a student&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all users if the request is sent by a student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: \&quot;dan30\&quot;,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/users/profiles&#x27;)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(403);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(\&quot;You don&#x27;t have enough permission to perform this action\&quot;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfef988b-1c92-4c74-9b23-e9075d3aab2a&quot;,&quot;parentUUID&quot;:&quot;6c8923a1-8410-4e24-ae21-762787e2652c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c65ac41a-2bee-4ce1-8de2-345df02061a7&quot;,&quot;e73e748c-7fe0-45bf-aa35-af21376ddaca&quot;,&quot;dfef988b-1c92-4c74-9b23-e9075d3aab2a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:321,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;468444d7-095c-4161-a5d6-56bbc758e7f2&quot;,&quot;title&quot;:&quot;/GET/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should GET a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .get(`/server/api/user/${process.env.ADMIN_ID}`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(200);\n                            res.body.should.be.an(&#x27;object&#x27;);\n                            res.body.should.have\n                                .property(&#x27;user&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d1b678b-badf-4d4f-9a17-6417df590d33&quot;,&quot;parentUUID&quot;:&quot;468444d7-095c-4161-a5d6-56bbc758e7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .get(`/server/api/user/7e7fd1d5f71b123cbc246700`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(404);\n                            res.body.should.be.an(&#x27;object&#x27;);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;No valid entry found for provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e10e37b-ae82-42f1-af7d-5b10ad1c19e3&quot;,&quot;parentUUID&quot;:&quot;468444d7-095c-4161-a5d6-56bbc758e7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e9d06bb-3ccd-4238-9798-84c284d24e3a&quot;,&quot;parentUUID&quot;:&quot;468444d7-095c-4161-a5d6-56bbc758e7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:369,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user0 = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            const user2 = {\n                \&quot;username\&quot;: user0,\n                \&quot;email\&quot;: `${user0}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/signup&#x27;)\n                        .send(user2)\n                        .end((err, res2) =&gt; {\n                            chai.request(server)\n                                .post(&#x27;/server/api/login&#x27;)\n                                .send({\n                                    \&quot;pseudo\&quot;: user,\n                                    \&quot;password\&quot;: \&quot;toto\&quot;\n                                })\n                                .end((err, res3) =&gt; {\n                                    chai.request(server)\n                                        .get(`/server/api/user/${res2.body.user.userId}`)\n                                        .set(&#x27;Authorization&#x27;, res3.body.token)\n                                        .end((err, res3) =&gt; {\n                                            res3.should.have.status(403);\n                                            res3.body.should.have\n                                                .property(&#x27;message&#x27;)\n                                                .eql(\&quot;You don&#x27;t have enough permission to perform this action !\&quot;);\n                                            done();\n                                        });\n                                });\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d93271f5-32a4-449c-b47e-5e092991702e&quot;,&quot;parentUUID&quot;:&quot;468444d7-095c-4161-a5d6-56bbc758e7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d1b678b-badf-4d4f-9a17-6417df590d33&quot;,&quot;1e10e37b-ae82-42f1-af7d-5b10ad1c19e3&quot;,&quot;7e9d06bb-3ccd-4238-9798-84c284d24e3a&quot;,&quot;d93271f5-32a4-449c-b47e-5e092991702e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:780,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;title&quot;:&quot;/PATCH/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should PATCH a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:199,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    delete user.pseudo;\n                    user.email = `${process.env[\&quot;ADMIN_PSEUDO\&quot;]}@gmail.com`;\n                    chai.request(server)\n                        .patch(`/server/api/user/${process.env.ADMIN_ID}`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .send(user)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(200);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;User info updated successfully&#x27;);\n                            res.body.should.have\n                                .property(&#x27;modifiedDocs&#x27;)\n                                .eql(1);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20ab6626-ef73-4768-8d60-23d9c9a8ef1b&quot;,&quot;parentUUID&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    delete user.pseudo;\n                    chai.request(server)\n                        .patch(`/server/api/user/7e7fd1d5f71b123cbc246700`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .send(user)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(404);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;No valid entry found for provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5689ced8-2f09-46f9-bbb8-8d69f1ed92be&quot;,&quot;parentUUID&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;)\n                        .send(user)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;203d8ede-5482-4f50-8fb0-e7a6ea7f1562&quot;,&quot;parentUUID&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:300,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user0 = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            const user2 = {\n                \&quot;username\&quot;: user0,\n                \&quot;email\&quot;: `${user0}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/signup&#x27;)\n                        .send(user2)\n                        .end((err, res2) =&gt; {\n                            chai.request(server)\n                                .post(&#x27;/server/api/login&#x27;)\n                                .send({\n                                    \&quot;pseudo\&quot;: user,\n                                    \&quot;password\&quot;: \&quot;toto\&quot;\n                                })\n                                .end((err, res3) =&gt; {\n                                    chai.request(server)\n                                        .patch(`/server/api/user/${res2.body.user.userId}`)\n                                        .set(&#x27;Authorization&#x27;, res3.body.token)\n                                        .end((err, res3) =&gt; {\n                                            res3.should.have.status(403);\n                                            res3.body.should.have\n                                                .property(&#x27;message&#x27;)\n                                                .eql(\&quot;You don&#x27;t have enough permission to perform this action !\&quot;);\n                                            done();\n                                        });\n                                });\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f296abbd-e53e-4588-9838-26d3afba6bd8&quot;,&quot;parentUUID&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user if request body contains unallowed fields&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user if request body contains unallowed fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    user.phone = \&quot;0815713693\&quot;;\n                    chai.request(server)\n                        .patch(`/server/api/user/${process.env.ADMIN_ID}`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .send(user)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(405);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;Some fields are NOT allowed&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed6b533d-25cc-4891-affd-d1d9720aaa2c&quot;,&quot;parentUUID&quot;:&quot;1a16095d-b01f-40b9-8639-8b8cc1834abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;20ab6626-ef73-4768-8d60-23d9c9a8ef1b&quot;,&quot;5689ced8-2f09-46f9-bbb8-8d69f1ed92be&quot;,&quot;203d8ede-5482-4f50-8fb0-e7a6ea7f1562&quot;,&quot;f296abbd-e53e-4588-9838-26d3afba6bd8&quot;,&quot;ed6b533d-25cc-4891-affd-d1d9720aaa2c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:938,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;69c4ebd0-1d64-4262-9e6c-93c212f544f9&quot;,&quot;title&quot;:&quot;/DELETE/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should DELETE a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/login&#x27;)\n                        .send({\n                            \&quot;pseudo\&quot;: user,\n                            \&quot;password\&quot;: \&quot;toto\&quot;\n                        })\n                        .end((err, res1) =&gt; {\n                            chai.request(server)\n                                .delete(`/server/api/user/${res1.body.user.userId}`)\n                                .set(&#x27;Authorization&#x27;, res1.body.token)\n                                .end((err, res2) =&gt; {\n                                    res2.should.have.status(200);\n                                    res2.body.should.have\n                                        .property(&#x27;message&#x27;)\n                                        .eql(&#x27;User deleted successfully !&#x27;);\n                                    done();\n                                });\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42eeaff6-91a2-46b0-947f-a49146179162&quot;,&quot;parentUUID&quot;:&quot;69c4ebd0-1d64-4262-9e6c-93c212f544f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res) =&gt; {\n                    chai.request(server)\n                        .delete(`/server/api/user/7e7fd1d5f71b123cbc246700`)\n                        .set(&#x27;Authorization&#x27;, res.body.token)\n                        .end((err, res) =&gt; {\n                            res.should.have.status(404);\n                            res.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;No user found for the provided ID&#x27;);\n                            done();\n                        });\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d76a3882-5a25-46fc-951d-768bcbba544b&quot;,&quot;parentUUID&quot;:&quot;69c4ebd0-1d64-4262-9e6c-93c212f544f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .delete(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cd5d18e-e199-4c7d-9c7c-985fbfd9f066&quot;,&quot;parentUUID&quot;:&quot;69c4ebd0-1d64-4262-9e6c-93c212f544f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = Math.random().toString(36).substr(2, 4);\n            const user0 = Math.random().toString(36).substr(2, 4);\n            const user1 = {\n                \&quot;username\&quot;: user,\n                \&quot;email\&quot;: `${user}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            const user2 = {\n                \&quot;username\&quot;: user0,\n                \&quot;email\&quot;: `${user0}@gmail.com`,\n                \&quot;password\&quot;: \&quot;toto\&quot;\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/signup&#x27;)\n                .send(user1)\n                .end(() =&gt; {\n                    chai.request(server)\n                        .post(&#x27;/server/api/signup&#x27;)\n                        .send(user2)\n                        .end((err, res2) =&gt; {\n                            chai.request(server)\n                                .post(&#x27;/server/api/login&#x27;)\n                                .send({\n                                    \&quot;pseudo\&quot;: user,\n                                    \&quot;password\&quot;: \&quot;toto\&quot;\n                                })\n                                .end((err, res3) =&gt; {\n                                    chai.request(server)\n                                        .delete(`/server/api/user/${res2.body.user.userId}`)\n                                        .set(&#x27;Authorization&#x27;, res3.body.token)\n                                        .end((err, res3) =&gt; {\n                                            res3.should.have.status(403);\n                                            res3.body.should.have\n                                                .property(&#x27;message&#x27;)\n                                                .eql(\&quot;You don&#x27;t have enough permission to perform this action !\&quot;);\n                                        });\n                                });\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;594dcebf-66ee-4ef7-ac66-2c41e4c2717e&quot;,&quot;parentUUID&quot;:&quot;69c4ebd0-1d64-4262-9e6c-93c212f544f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;42eeaff6-91a2-46b0-947f-a49146179162&quot;,&quot;d76a3882-5a25-46fc-951d-768bcbba544b&quot;,&quot;9cd5d18e-e199-4c7d-9c7c-985fbfd9f066&quot;,&quot;594dcebf-66ee-4ef7-ac66-2c41e4c2717e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:552,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;da3cc058-383e-4ae9-b9ff-49c281dd7edb&quot;,&quot;title&quot;:&quot;/PATCH/:id/score&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH the user&#x27;s score &quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should PATCH the user&#x27;s score &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${res1.body.user.userId}/score`)\n                        .send({ \&quot;score\&quot; : 10})\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(200);\n                            res2.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;User info updated successfully&#x27;);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cffd7054-091f-4c2c-861f-9f057803a0ba&quot;,&quot;parentUUID&quot;:&quot;da3cc058-383e-4ae9-b9ff-49c281dd7edb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH the user&#x27;s score if it exceeds 10&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should NOT PATCH the user&#x27;s score if it exceeds 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = {\n                \&quot;pseudo\&quot;: process.env[\&quot;ADMIN_PSEUDO\&quot;],\n                \&quot;password\&quot;: process.env[\&quot;ADMIN_PSD\&quot;]\n            };\n            chai.request(server)\n                .post(&#x27;/server/api/login&#x27;)\n                .send(user)\n                .end((err, res1) =&gt; {\n                    chai.request(server)\n                        .patch(`/server/api/user/${res1.body.user.userId}/score`)\n                        .send({ \&quot;score\&quot; : 123})\n                        .set(&#x27;Authorization&#x27;, res1.body.token)\n                        .end((err, res2) =&gt; {\n                            res2.should.have.status(405);\n                            res2.body.should.have\n                                .property(&#x27;message&#x27;)\n                                .eql(&#x27;The max score is 10&#x27;);\n                        });\n                    done();\n                });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;010f1732-855a-4729-b73d-a0a629f00f7b&quot;,&quot;parentUUID&quot;:&quot;da3cc058-383e-4ae9-b9ff-49c281dd7edb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cffd7054-091f-4c2c-861f-9f057803a0ba&quot;,&quot;010f1732-855a-4729-b73d-a0a629f00f7b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:198,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:30000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;report-mocha&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}"
      data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;report-mocha&quot;,&quot;reportTitle&quot;:&quot;mean-stack-web-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;report-mocha\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\report-mocha\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\report-mocha\\index.html&quot;}">
<div id="report"></div>
<script src="assets\app.js"></script>
</body>
</html>
